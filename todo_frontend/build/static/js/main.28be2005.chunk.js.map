{"version":3,"sources":["App.js","index.js"],"names":["App","useState","todoList","setTodoList","id","title","completed","activeItem","setActiveItem","editing","SetEditing","fetchTask","console","log","fetch","then","response","json","data","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","useEffect","tasks","className","onSubmit","e","preventDefault","csrftoken","url","method","headers","body","JSON","stringify","catch","err","style","flex","onChange","value","target","type","placeholder","map","task","index","onClick","strikeUnstrike","startEdit","deletItem","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.28be2005.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\n\nexport default function App() {\n  const [todoList, setTodoList] = useState([]);\n  const [activeItem, setActiveItem] = useState({\n    id: null,\n    title: \"\",\n    completed: false,\n  });\n  const [editing, SetEditing] = useState(false);\n\n  useEffect(() => {\n    fetchTask();\n  }, []);\n\n  function fetchTask() {\n    console.log(\"fetching...\");\n    fetch(\"https://todada.herokuapp.com/api/task-list\")\n      .then((response) => response.json())\n      .then((data) => {\n        setTodoList(data);\n      });\n  }\n  function getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== \"\") {\n      const cookies = document.cookie.split(\";\");\n      for (let i = 0; i < cookies.length; i++) {\n        const cookie = cookies[i].trim();\n        // Does this cookie string begin with the name we want?\n        if (cookie.substring(0, name.length + 1) === name + \"=\") {\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n          break;\n        }\n      }\n    }\n    return cookieValue;\n  }\n\n  function handleChange(e) {\n    var value = e.target.value;\n\n    setActiveItem({ ...activeItem, title: value });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log(\"Item: \", activeItem);\n\n    var csrftoken = getCookie(\"csrftoken\");\n\n    var url = \"https://todada.herokuapp.com/api/task-create/\";\n\n    if (editing == true) {\n      url = `https://todada.herokuapp.com/api/task-update/${activeItem.id}`;\n      SetEditing(false);\n    }\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"X-CSRFToken\": csrftoken,\n      },\n      body: JSON.stringify(activeItem),\n    })\n      .then((response) => {\n        fetchTask();\n        setActiveItem({\n          id: null,\n          title: \"\",\n          completed: false,\n        });\n      })\n      .catch(function (err) {\n        console.log(\"Error:\", err);\n      });\n  }\n\n  function startEdit(task) {\n    console.log(\"Task: \", task);\n    setActiveItem(task);\n    SetEditing(true);\n  }\n\n  function deletItem(task) {\n    var csrftoken = getCookie(\"csrftoken\");\n    fetch(`https://todada.herokuapp.com/api/task-delete/${task.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"X-CSRFToken\": csrftoken,\n      },\n    }).then((response) => {\n      fetchTask();\n    });\n  }\n\n  function strikeUnstrike(task) {\n    task.completed = !task.completed;\n    var csrftoken = getCookie(\"csrftoken\");\n    var url = `https://todada.herokuapp.com/api/task-update/${task.id}`;\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"X-CSRFToken\": csrftoken,\n      },\n      body: JSON.stringify({\n        ...task,\n        completed: task.completed,\n      }),\n    }).then((response) => {\n      fetchTask();\n    });\n  }\n  var tasks = todoList;\n  return (\n    <div className=\"container\">\n      <div className=\"task-container\">\n        <div id=\"form-wrapper\">\n          <form onSubmit={handleSubmit} id=\"form\">\n            <div className=\"flex-wrapper\">\n              <div style={{ flex: 6 }}>\n                <input\n                  onChange={handleChange}\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"title\"\n                  name=\"title\"\n                  value={activeItem.title}\n                  placeholder=\"Add Task\"\n                />\n              </div>\n              <div style={{ flex: 1 }}>\n                <input\n                  type=\"submit\"\n                  id=\"submit\"\n                  className=\"btn btn-warning\"\n                  name=\"add\"\n                />\n              </div>\n            </div>\n          </form>\n        </div>\n        <div className=\"list-wrapper\">\n          {tasks.map(function (task, index) {\n            return (\n              <div key={index} className=\"task-wrapper flex-wrapper\">\n                <div onClick={() => strikeUnstrike(task)} style={{ flex: 7 }}>\n                  {task.completed == false ? (\n                    <span>{task.title}</span>\n                  ) : (\n                    <strike>{task.title}</strike>\n                  )}\n                </div>\n                <div style={{ flex: 1 }}>\n                  <button\n                    onClick={() => startEdit(task)}\n                    className=\"btn btn-sm btn-outline-info\"\n                  >\n                    Edit\n                  </button>\n                </div>\n                <div style={{ flex: 1 }}>\n                  <button\n                    onClick={() => deletItem(task)}\n                    className=\"btn btn-sm btn-outline-dark delete\"\n                  >\n                    -\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}