(this.webpackJsonptodo_frontend=this.webpackJsonptodo_frontend||[]).push([[0],{10:function(t,e,n){},11:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n.n(c),i=n(5),a=n.n(i),s=(n(10),n(2)),r=n(3),l=(n(11),n(0));function d(){var t=Object(c.useState)([]),e=Object(r.a)(t,2),n=e[0],o=e[1],i=Object(c.useState)({id:null,title:"",completed:!1}),a=Object(r.a)(i,2),d=a[0],p=a[1],u=Object(c.useState)(!1),j=Object(r.a)(u,2),f=j[0],h=j[1];function b(){console.log("fetching..."),fetch("https://todada.herokuapp.com/api/task-list").then((function(t){return t.json()})).then((function(t){o(t)}))}function m(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),c=0;c<n.length;c++){var o=n[c].trim();if(o.substring(0,t.length+1)===t+"="){e=decodeURIComponent(o.substring(t.length+1));break}}return e}Object(c.useEffect)((function(){b()}),[]);var O=n;return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"task-container",children:[Object(l.jsx)("div",{id:"form-wrapper",children:Object(l.jsx)("form",{onSubmit:function(t){t.preventDefault(),console.log("Item: ",d);var e=m("csrftoken"),n="https://todada.herokuapp.com/api/task-create/";1==f&&(n="https://todada.herokuapp.com/api/task-update/".concat(d.id),h(!1)),fetch(n,{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":e},body:JSON.stringify(d)}).then((function(t){b(),p({id:null,title:"",completed:!1})})).catch((function(t){console.log("Error:",t)}))},id:"form",children:Object(l.jsxs)("div",{className:"flex-wrapper",children:[Object(l.jsx)("div",{style:{flex:6},children:Object(l.jsx)("input",{onChange:function(t){var e=t.target.value;p(Object(s.a)(Object(s.a)({},d),{},{title:e}))},type:"text",className:"form-control",id:"title",name:"title",value:d.title,placeholder:"Add Task"})}),Object(l.jsx)("div",{style:{flex:1},children:Object(l.jsx)("input",{type:"submit",id:"submit",className:"btn btn-warning",name:"add"})})]})})}),Object(l.jsx)("div",{className:"list-wrapper",children:O.map((function(t,e){return Object(l.jsxs)("div",{className:"task-wrapper flex-wrapper",children:[Object(l.jsx)("div",{onClick:function(){return function(t){t.completed=!t.completed;var e=m("csrftoken"),n="https://todada.herokuapp.com/api/task-update/".concat(t.id);fetch(n,{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":e},body:JSON.stringify(Object(s.a)(Object(s.a)({},t),{},{completed:t.completed}))}).then((function(t){b()}))}(t)},style:{flex:7},children:0==t.completed?Object(l.jsx)("span",{children:t.title}):Object(l.jsx)("strike",{children:t.title})}),Object(l.jsx)("div",{style:{flex:1},children:Object(l.jsx)("button",{onClick:function(){return function(t){console.log("Task: ",t),p(t),h(!0)}(t)},className:"btn btn-sm btn-outline-info",children:"Edit"})}),Object(l.jsx)("div",{style:{flex:1},children:Object(l.jsx)("button",{onClick:function(){return function(t){var e=m("csrftoken");fetch("https://todada.herokuapp.com/api/task-delete/".concat(t.id),{method:"DELETE",headers:{"Content-type":"application/json","X-CSRFToken":e}}).then((function(t){b()}))}(t)},className:"btn btn-sm btn-outline-dark delete",children:"-"})})]},e)}))})]})})}a.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.28be2005.chunk.js.map